{% extends "recipes/base.html" %}

{% block title %}{% if editing %}Edit {{ item.name }}{% else %}Add Shopping Item{% endif %}{% endblock %}

{% block content %}
<h1>{% if editing %}Edit Shopping Item{% else %}Add Shopping Item{% endif %}</h1>

<div class="card">
    <form method="post">
        {% csrf_token %}
        {% for field in form %}
        <div class="field">
            <label for="{{ field.id_for_label }}">{{ field.label }}</label>
            {{ field }}
            {% if field.help_text %}<p class="helptext">{{ field.help_text }}</p>{% endif %}
            {% if field.errors %}<ul class="errorlist">{% for error in field.errors %}<li>{{ error }}</li>{% endfor %}</ul>{% endif %}
        </div>
        {% endfor %}
        <div class="actions">
            <button type="submit" class="btn btn-primary">{% if editing %}Update{% else %}Add{% endif %} Item</button>
            <a href="{% url 'shopping_list' %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
